<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Comparison Tool - D:\...els\Scripts\multiplesSIM.m vs. D:\...pts\multipleSIM_plotTraj.m</title><style type="text/css">

pre {

  display:inline-block;

}

.diffnomatch {

  background: #e5d5e8;

     display: inline-block;

}

.right {

  background: #dbf2fc;

     display: inline-block;

}

.left {

  background: #f3e9d1;

     display: inline-block;

}

.diffsoft {

    color: #888;

}

.diffskip {

       color: #888;

  background: #e0e0e0;

     display: inline-block;

}

.bold {

  font-weight:bold;

}

.merged {

  background-color: #eaeaea;

           display: inline-block;

}

</style><body><div id="allContent"><table cellpadding="0" cellspacing="0" border="0"><tbody><tr>
<td></td><td><a id="leftFileLink" class="bold">multiplesSIM.m</a></td>
<td><a id="rightFileLink" class="bold">multipleSIM_plotTraj.m</a></td>
</tr>
<tr>
<td></td><td>D:\nuevaTesis2020\DESARROLLO\MATLAB\ModeloNuevo\Simulink_models\Scripts\multiplesSIM.m</td><td>D:\nuevaTesis2020\DESARROLLO\MATLAB\ModeloNuevo\Simulink_models\Scripts\multipleSIM_plotTraj.m</td>
</tr>
<tr>
<td></td><td>Thu Feb 03 15:55:05 COT 2022</td><td>Sat Sep 25 18:40:29 COT 2021</td>
</tr>
<tr>
<td><pre>    </pre></td>
<td><pre>                                                                                </pre></td>
<td><pre>                                                                                </pre></td>
</tr></tbody></table>
<div>21 differences found.  Use the toolstrip buttons to navigate to them.</div><div id="diffstart">
<br><pre><div id="ignorediv"><a id="ignorelink"></a></div>
<div id="diff0"><span class="diffLine" data-left-line="1" data-right-line="1"><a>  1</a> <span class="diffnomatch">%% Getting <span style="background: #be96c6;">data for </span>multiple <span style="background: #be96c6;">randomized</span> <span style="background: #be96c6;">simulation</span>                               x %% Getting multiple <span style="background: #be96c6;">random</span> <span style="background: #be96c6;">data</span>                                                 </span> <span><a>  1</a></span></span>
<span class="diffLine" data-left-line="2" data-right-line="1"><a>  2</a> <span class="diffnew left">% Function for Automated Biopsy Target decision                                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="3" data-right-line="1"><a>  3</a> <span class="diffnew left">% getMultipleDataToSIM(p_c,angle,cupSize,needleType,needleGauge,offsetPre)       &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="4" data-right-line="1"><a>  4</a> <span class="diffnew left">% i.e.:                                                                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="5" data-right-line="1"><a>  5</a> <span class="diffnew left">% cupSize = 'A'                                                                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="6" data-right-line="1"><a>  6</a> <span class="diffnew left">% needleType = 1(FNA), 2(CN)                                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="7" data-right-line="1"><a>  7</a> <span class="diffnew left">% needleGauge = 11, 14, 18, 20, 21                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="8" data-right-line="1"><a>  8</a> <span class="diffnew left">% NeedleThrow = 20                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="9" data-right-line="1"><a>  9</a> <span class="diffnew left">% NeedleDeadSpace = 8                                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="10" data-right-line="1"><a> 10</a> <span class="diffnew left">% offsetPre                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="11" data-right-line="1"><a> 11</a> <span class="diffnew left">%---------------------------------                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="12" data-right-line="2"><a> 12</a> clear, clc                                                                       . clear, clc                                                                       <span><a>  2</a></span></span>
<div id="diff1"><span class="diffLine" data-left-line="13" data-right-line="3"><a> 13</a> <span class="diffnomatch"><span style="background: #be96c6;">%%</span> <span style="background: #be96c6;">Initialization</span>                                                                x <span style="background: #be96c6;">robotData</span> <span style="background: #be96c6;">= load('D:\nuevaTesis2020\DESARROLLO\MATLAB\ModeloNuevo\robotData.mat'</span></span> <span><a>  3</a></span></span>
<span class="diffLine" data-left-line="14" data-right-line="4"><a> 14</a> <span class="diffnomatch"><span style="background: #be96c6;">mainPath</span> = <span style="background: #be96c6;">startupGUI</span>;                                                           x <span style="background: #be96c6;">mdl</span> = <span style="background: #be96c6;">'breastBiopsySIMtraj'</span>;                                                    </span> <span><a>  4</a></span></span>
<span class="diffLine" data-left-line="15" data-right-line="5"><a> 15</a> <span class="diffnomatch"><span style="background: #be96c6;">robotData = load</span>(<span style="background: #be96c6;">strcat(mainPath</span>,'<span style="background: #be96c6;">\Simulink_models\Data\robotData.mat</span>')<span style="background: #be96c6;">)</span>;        x <span style="background: #be96c6;">open_system</span>(<span style="background: #be96c6;">mdl</span>,'<span style="background: #be96c6;">loadonly</span>');                                                    </span> <span><a>  5</a></span></span>
<span class="diffLine" data-left-line="16" data-right-line="5"><a> 16</a> <span class="diffnew left">pointsData = load(strcat(mainPath,'\Simulink_models\Data\biopsyData.mat'));      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="17" data-right-line="5"><a> 17</a> <span class="diffnew left">mdl = 'breastBiopsySim';%name simulink model                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="18" data-right-line="5"><a> 18</a> <span class="diffnew left">open_system(mdl,'loadonly');%for open model in second plane                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="19" data-right-line="5"><a> 19</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="20" data-right-line="5"><a> 20</a> <span class="diffnew left">% Groups for simulation variables                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="21" data-right-line="6"><a> 21</a> listCupSize = {'A' 'B' 'C' 'D'};                                                 . listCupSize = {'A' 'B' 'C' 'D'};                                                 <span><a>  6</a></span></span>
<div id="diff2"><span class="diffLine" data-left-line="22" data-right-line="7"><a> 22</a> <span class="diffnomatch">listNeedleType = [1,2];<span style="background: #be96c6;">%1:FNA, 2:CN</span>                                              x listNeedleType = [1,2];                                                         </span> <span><a>  7</a></span></span>
<span class="diffLine" data-left-line="23" data-right-line="8"><a> 23</a> <span class="diffnomatch"><span style="background: #be96c6;">numCups</span> = 4;                                                                     x <span style="background: #be96c6;">numTargets</span> = 4;<span style="background: #be96c6;">%at least 4</span>                                                      </span> <span><a>  8</a></span></span>
<span class="diffLine" data-left-line="24" data-right-line="8"><a> 24</a> <span class="diffnew left">numNeedleDevice = 2;                                                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="25" data-right-line="8"><a> 25</a> <span class="diffnew left">numTargets = 20;%at least 3                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="26" data-right-line="9"><a> 26</a>                                                                                  .                                                                                  <span><a>  9</a></span></span>
<div id="diff3"><span class="diffLine" data-left-line="27" data-right-line="10"><a> 27</a> <span class="diffnomatch"><span style="background: #be96c6;">%%</span>                                                                               x <span style="background: #be96c6;">for</span> <span style="background: #be96c6;">x=1:4</span>                                                                       </span> <span><a> 10</a></span></span>
<span class="diffLine" data-left-line="28" data-right-line="11"><a> 28</a> <span class="diffnomatch">for <span style="background: #be96c6;">x</span>=1:<span style="background: #be96c6;">numCups</span>                                                                  x <span style="background: #be96c6;">    </span>for <span style="background: #be96c6;">y </span>=<span style="background: #be96c6;"> </span>1:<span style="background: #be96c6;">2</span>                                                                 </span> <span><a> 11</a></span></span>
<span class="diffLine" data-left-line="29" data-right-line="11"><a> 29</a> <span class="diffnew left">    for y = 1:numNeedleDevice                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="30" data-right-line="11"><a> 30</a> <span class="diffnew left">        % Getting all computed biopsy target positions                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="31" data-right-line="12"><a> 31</a>         cupSize = listCupSize{x};                                                .         cupSize = listCupSize{x};                                                <span><a> 12</a></span></span>
<div id="diff4"><span class="diffLine" data-left-line="31" data-right-line="13"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         fileTarget = "D:/nuevaTesis2020/DESARROLLO/MATLAB/ModeloNuevo/biopsyData</span> <span><a> 13</a></span></span>
<span class="diffLine" data-left-line="31" data-right-line="14"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         pointsData = load(fileTarget);                                          </span> <span><a> 14</a></span></span>
</div><span class="nodiff" data-left-line="32" data-right-line="15"><a> 32</a>         if cupSize == 'A'                                                        .         if cupSize == 'A'                                                        <span><a> 15</a></span></span>
<span class="nodiff" data-left-line="33" data-right-line="16"><a> 33</a>             biopsyPoint = pointsData.targetDataA;                                .             biopsyPoint = pointsData.targetDataA;                                <span><a> 16</a></span></span>
<span class="nodiff" data-left-line="34" data-right-line="17"><a> 34</a>         elseif cupSize == 'B'                                                    .         elseif cupSize == 'B'                                                    <span><a> 17</a></span></span>
                                                                       <span class="diffskip">[4 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="39" data-right-line="22"><a> 39</a>             biopsyPoint = pointsData.targetDataD;                                .             biopsyPoint = pointsData.targetDataD;                                <span><a> 22</a></span></span>
<span class="nodiff" data-left-line="40" data-right-line="23"><a> 40</a>         end                                                                      .         end                                                                      <span><a> 23</a></span></span>
<span class="nodiff" data-left-line="41" data-right-line="24"><a> 41</a>                                                                                  .                                                                                  <span><a> 24</a></span></span>
<div id="diff5"><span class="diffLine" data-left-line="42" data-right-line="24"><a> 42</a> <span class="diffnew left">        % Getting a fix randomised sequece                                       &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="43" data-right-line="25"><a> 43</a>         numBiopsyPoints = length(biopsyPoint);                                   .         numBiopsyPoints = length(biopsyPoint);                                   <span><a> 25</a></span></span>
<div id="diff6"><span class="diffLine" data-left-line="44" data-right-line="26"><a> 44</a> <span class="diffnomatch">        <span style="background: #be96c6;">s = RandStream('dsfmt19937','Seed',2021);</span>                                x                                                                                 </span> <span><a> 26</a></span></span>
<span class="diffLine" data-left-line="44" data-right-line="27"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         s = RandStream('dsfmt19937','Seed',2021);%before 3                      </span> <span><a> 27</a></span></span>
</div><span class="nodiff" data-left-line="45" data-right-line="28"><a> 45</a>         pc = zeros(3,numTargets);                                                .         pc = zeros(3,numTargets);                                                <span><a> 28</a></span></span>
<span class="nodiff" data-left-line="46" data-right-line="29"><a> 46</a>         for i=1:numTargets                                                       .         for i=1:numTargets                                                       <span><a> 29</a></span></span>
<span class="nodiff" data-left-line="47" data-right-line="30"><a> 47</a>             target = round(numBiopsyPoints*rand(s,1));                           .             target = round(numBiopsyPoints*rand(s,1));                           <span><a> 30</a></span></span>
<span class="nodiff" data-left-line="48" data-right-line="31"><a> 48</a>             pc(:,i) = biopsyPoint(target,:)';                                    .             pc(:,i) = biopsyPoint(target,:)';                                    <span><a> 31</a></span></span>
<span class="nodiff" data-left-line="49" data-right-line="32"><a> 49</a>         end                                                                      .         end                                                                      <span><a> 32</a></span></span>
<span class="nodiff" data-left-line="50" data-right-line="33"><a> 50</a>                                                                                  .                                                                                  <span><a> 33</a></span></span>
<div id="diff7"><span class="diffLine" data-left-line="51" data-right-line="34"><a> 51</a> <span class="diffnomatch">        % <span style="background: #be96c6;">Definying</span> <span style="background: #be96c6;">inital</span> <span style="background: #be96c6;">parameters</span>                                            x         % <span style="background: #be96c6;">Automated</span> <span style="background: #be96c6;">Biopsy</span> <span style="background: #be96c6;">Target decision</span>                                      </span> <span><a> 34</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="35"><a> 52</a> <span class="diffnomatch">        <span style="background: #be96c6;">angleVar</span> <span style="background: #be96c6;">= 0;</span>                                                            x         <span style="background: #be96c6;">%</span> <span style="background: #be96c6;">getMultipleDataToSIM(p_c,angle,cupSize,needleType,offsetPrePlacement)</span> </span> <span><a> 35</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="36"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         % cupSize = 'A'                                                         </span> <span><a> 36</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="37"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         % needleType = 1(FNA), 2(CN)                                            </span> <span><a> 37</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="38"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         % needleGauge = 11, 14, 18, 20, 21                                      </span> <span><a> 38</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="39"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         % NeedleThrow = 20                                                      </span> <span><a> 39</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="40"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         % NeedleDeadSpace = 8                                                   </span> <span><a> 40</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="41"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         %---------------------------------                                      </span> <span><a> 41</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="42"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         angle = 0;                                                              </span> <span><a> 42</a></span></span>
<span class="diffLine" data-left-line="52" data-right-line="43"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         needleType = listNeedleType(y);                                         </span> <span><a> 43</a></span></span>
</div><span class="nodiff" data-left-line="53" data-right-line="44"><a> 53</a>         offsetPre = 10;                                                          .         offsetPre = 10;                                                          <span><a> 44</a></span></span>
<span class="nodiff" data-left-line="54" data-right-line="45"><a> 54</a>                                                                                  .                                                                                  <span><a> 45</a></span></span>
<div id="diff8"><span class="diffLine" data-left-line="55" data-right-line="46"><a> 55</a> <span class="diffnomatch">        typeTrajInterp = <span style="background: #be96c6;">3</span>;%<span style="background: #be96c6;">quintic</span>                                              x         typeTrajInterp = <span style="background: #be96c6;">2</span>;%<span style="background: #be96c6;">cubic</span>                                               </span> <span><a> 46</a></span></span>
<span class="diffLine" data-left-line="56" data-right-line="47"><a> 56</a> <span class="diffnomatch">        typeTrajMode = 1;<span style="background: #be96c6;">%joint space</span>                                            x         typeTrajMode = 1;                                                       </span> <span><a> 47</a></span></span>
<span class="diffLine" data-left-line="57" data-right-line="47"><a> 57</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="58" data-right-line="47"><a> 58</a> <span class="diffnew left">        needleType = listNeedleType(y);                                          &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="59" data-right-line="48"><a> 59</a>         if needleType==1                                                         .         if needleType==1                                                         <span><a> 48</a></span></span>
<span class="nodiff" data-left-line="60" data-right-line="49"><a> 60</a>             needleGauge = 20;                                                    .             needleGauge = 20;                                                    <span><a> 49</a></span></span>
<span class="nodiff" data-left-line="61" data-right-line="50"><a> 61</a>         else                                                                     .         else                                                                     <span><a> 50</a></span></span>
<span class="nodiff" data-left-line="62" data-right-line="51"><a> 62</a>             needleGauge = 16;                                                    .             needleGauge = 16;                                                    <span><a> 51</a></span></span>
<span class="nodiff" data-left-line="63" data-right-line="52"><a> 63</a>         end                                                                      .         end                                                                      <span><a> 52</a></span></span>
<div id="diff9"><span class="diffLine" data-left-line="64" data-right-line="53"><a> 64</a> <span class="diffnomatch">                                                                                 x         <span style="background: #be96c6;">%---------------------------------</span>                                      </span> <span><a> 53</a></span></span>
<span class="diffLine" data-left-line="65" data-right-line="53"><a> 65</a> <span class="diffnew left">        %Zero Initial Values                                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="66" data-right-line="54"><a> 66</a>         ps = zeros(3,numTargets);                                                .         ps = zeros(3,numTargets);                                                <span><a> 54</a></span></span>
<span class="nodiff" data-left-line="67" data-right-line="55"><a> 67</a>         hs = zeros(3,numTargets);                                                .         hs = zeros(3,numTargets);                                                <span><a> 55</a></span></span>
<span class="nodiff" data-left-line="68" data-right-line="56"><a> 68</a>         ns = zeros(3,numTargets);                                                .         ns = zeros(3,numTargets);                                                <span><a> 56</a></span></span>
                                                                      <span class="diffskip">[12 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="81" data-right-line="69"><a> 81</a>         needleThrow = collision1;                                                .         needleThrow = collision1;                                                <span><a> 69</a></span></span>
<span class="nodiff" data-left-line="82" data-right-line="70"><a> 82</a>         needleDeadSpace = collision1;                                            .         needleDeadSpace = collision1;                                            <span><a> 70</a></span></span>
<span class="nodiff" data-left-line="83" data-right-line="71"><a> 83</a>         needleDeviceLength = collision1;                                         .         needleDeviceLength = collision1;                                         <span><a> 71</a></span></span>
<div id="diff10"><span class="diffLine" data-left-line="84" data-right-line="71"><a> 84</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="85" data-right-line="71"><a> 85</a> <span class="diffnew left">        % Calling the function getMultipleDataToSIM()                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="86" data-right-line="72"><a> 86</a>         for i=1:numTargets                                                       .         for i=1:numTargets                                                       <span><a> 72</a></span></span>
<span class="nodiff" data-left-line="87" data-right-line="73"><a> 87</a>             [ps(:,i),hs(:,i),ns(:,i),collision1(i),collision1Unavoidable(i),coll .             [ps(:,i),hs(:,i),ns(:,i),collision1(i),collision1Unavoidable(i),coll <span><a> 73</a></span></span>
<span class="nodiff" data-left-line="88" data-right-line="74"><a> 88</a>                 numLeadToOpen(i),numLeadToCol(i),dInsertion(:,i),needleLength(i) .                 numLeadToOpen(i),numLeadToCol(i),dInsertion(:,i),needleLength(i) <span><a> 74</a></span></span>
<div id="diff11"><span class="diffLine" data-left-line="89" data-right-line="75"><a> 89</a> <span class="diffnomatch">                getMultipleDataToSIM(pc(:,i),<span style="background: #be96c6;">angleVar</span>,cupSize,needleType,needleG x                 getMultipleDataToSIM(pc(:,i),<span style="background: #be96c6;">angle</span>,cupSize,needleType,needleGaug</span> <span><a> 75</a></span></span>
</div><span class="nodiff" data-left-line="90" data-right-line="76"><a> 90</a>         end                                                                      .         end                                                                      <span><a> 76</a></span></span>
<span class="nodiff" data-left-line="91" data-right-line="77"><a> 91</a>                                                                                  .                                                                                  <span><a> 77</a></span></span>
<div id="diff12"><span class="diffLine" data-left-line="92" data-right-line="78"><a> 92</a> <span class="diffnomatch">        %% <span style="background: #be96c6;">Simulation</span>                                                            x         %% <span style="background: #be96c6;">Preparing simulation</span>                                                 </span> <span><a> 78</a></span></span>
</div><span class="nodiff" data-left-line="93" data-right-line="79"><a> 93</a>         for i = 1:numTargets                                                     .         for i = 1:numTargets                                                     <span><a> 79</a></span></span>
<span class="nodiff" data-left-line="94" data-right-line="80"><a> 94</a>             simIn(i) = Simulink.SimulationInput(mdl);                            .             simIn(i) = Simulink.SimulationInput(mdl);                            <span><a> 80</a></span></span>
<span class="nodiff" data-left-line="95" data-right-line="81"><a> 95</a>             simIn(i) = setVariable(simIn(i),'robotData',robotData,'Workspace',md .             simIn(i) = setVariable(simIn(i),'robotData',robotData,'Workspace',md <span><a> 81</a></span></span>
                                                                      <span class="diffskip">[13 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="109" data-right-line="95"><a>109</a>             simIn(i) = setVariable(simIn(i),'typeTrajMode',typeTrajMode,'Workspa .             simIn(i) = setVariable(simIn(i),'typeTrajMode',typeTrajMode,'Workspa <span><a> 95</a></span></span>
<span class="nodiff" data-left-line="110" data-right-line="96"><a>110</a>             simIn(i) = setVariable(simIn(i),'typeTrajInterp',typeTrajInterp,'Wor .             simIn(i) = setVariable(simIn(i),'typeTrajInterp',typeTrajInterp,'Wor <span><a> 96</a></span></span>
<span class="nodiff" data-left-line="111" data-right-line="97"><a>111</a>         end                                                                      .         end                                                                      <span><a> 97</a></span></span>
<div id="diff13"><span class="diffLine" data-left-line="112" data-right-line="98"><a>112</a> <span class="diffnomatch">                                                                                 x         <span style="background: #be96c6;">%% Simulation</span>                                                           </span> <span><a> 98</a></span></span>
</div><span class="nodiff" data-left-line="113" data-right-line="99"><a>113</a>         simOutputs = sim(simIn);                                                 .         simOutputs = sim(simIn);                                                 <span><a> 99</a></span></span>
<div id="diff14"><span class="diffLine" data-left-line="114" data-right-line="99"><a>114</a> <span class="diffnew left">        %simOutputsA_CN = simOutputs;                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="115" data-right-line="99"><a>115</a> <span class="diffnew left">        %save outputSIM.mat simOutputsA_CN '-append'                             &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="116" data-right-line="99"><a>116</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="117" data-right-line="100"><a>117</a>         %% Preparing data                                                        .         %% Preparing data                                                        <span><a>100</a></span></span>
<span class="nodiff" data-left-line="118" data-right-line="101"><a>118</a>         ps_n = round(ps,2);                                                      .         ps_n = round(ps,2);                                                      <span><a>101</a></span></span>
<span class="nodiff" data-left-line="119" data-right-line="102"><a>119</a>         hs_n = round(hs,2);                                                      .         hs_n = round(hs,2);                                                      <span><a>102</a></span></span>
<div id="diff15"><span class="diffLine" data-left-line="120" data-right-line="103"><a>120</a> <span class="diffnomatch">        ns_n = round(ns,2);                                                      x         ns_n = round(ns,2);<span style="background: #be96c6;">        </span>                                             </span> <span><a>103</a></span></span>
<span class="diffLine" data-left-line="121" data-right-line="103"><a>121</a> <span class="diffnew left">        for i=1:numTargets                                                       &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="122" data-right-line="103"><a>122</a> <span class="diffnew left">            aux1 = string(ps_n(:,i));                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="123" data-right-line="103"><a>123</a> <span class="diffnew left">            ps_s(i) = "["+aux1(1)+","+aux1(2)+","+aux1(3)+"]";                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="124" data-right-line="103"><a>124</a> <span class="diffnew left">            aux2 = string(hs_n(:,i));                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="125" data-right-line="103"><a>125</a> <span class="diffnew left">            hs_s(i) = "["+aux2(1)+","+aux2(2)+","+aux2(3)+"]";                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="126" data-right-line="103"><a>126</a> <span class="diffnew left">            aux3 = string(ns_n(:,i));                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="127" data-right-line="103"><a>127</a> <span class="diffnew left">            ns_s(i) = "["+aux3(1)+","+aux3(2)+","+aux3(3)+"]";                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="128" data-right-line="103"><a>128</a> <span class="diffnew left">        end                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="129" data-right-line="103"><a>129</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="130" data-right-line="103"><a>130</a> <span class="diffnew left">        % Table 1                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="131" data-right-line="103"><a>131</a> <span class="diffnew left">        cupSizes = ["A,B,C,D","A,B,C,D"];                                        &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="132" data-right-line="103"><a>132</a> <span class="diffnew left">        needleGaugues = [20,16];                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="133" data-right-line="103"><a>133</a> <span class="diffnew left">        deviceLengths = [60,83];                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="134" data-right-line="103"><a>134</a> <span class="diffnew left">        angleVars = [0,0];                                                       &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="135" data-right-line="103"><a>135</a> <span class="diffnew left">        offsetPres = [10,10];                                                    &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="136" data-right-line="103"><a>136</a> <span class="diffnew left">        longitudThrows = [0,10];                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="137" data-right-line="103"><a>137</a> <span class="diffnew left">        longitudEspacioMuerto = [0,8];                                           &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="138" data-right-line="103"><a>138</a> <span class="diffnew left">        caso1 = [cupSizes(1) needleGaugues(1) angleVars(1) offsetPres(1) longitu &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="139" data-right-line="103"><a>139</a> <span class="diffnew left">        caso2 = [cupSizes(2) needleGaugues(2) angleVars(2) offsetPres(2) longitu &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="140" data-right-line="103"><a>140</a> <span class="diffnew left">        t1 = table(caso1',caso2','VariableNames',{'FNAB','CNB'},'RowNames',...   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="141" data-right-line="103"><a>141</a> <span class="diffnew left">            {'Copa de mama' 'Calibre Aguja (Gauge)' 'Angulo insercion (0°)' 'Off &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="142" data-right-line="103"><a>142</a> <span class="diffnew left">        %disp(t1)                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="143" data-right-line="103"><a>143</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="144" data-right-line="103"><a>144</a> <span class="diffnew left">        % Table 2                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="145" data-right-line="103"><a>145</a> <span class="diffnew left">        t2 = table(ps_s',hs_s',ns_s',collision1',collision1Unavoidable',collisio &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="146" data-right-line="103"><a>146</a> <span class="diffnew left">            numLeadToCol',dInsertion',needleLength','VariableNames',{'ps (mm)' ' &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="147" data-right-line="103"><a>147</a> <span class="diffnew left">            'Alcanzabilidad' 'Tapa de Inserción' 'Tapa de Colisión' 'Distancia d &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="148" data-right-line="103"><a>148</a> <span class="diffnew left">        %disp(t2)                                                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="149" data-right-line="103"><a>149</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="150" data-right-line="104"><a>150</a> <span class="diffnomatch">        % Table 3, 4 y 5                                                         x         %<span style="background: #be96c6;">%</span> Table 3, 4 y 5                                                       </span> <span><a>104</a></span></span>
</div><span class="nodiff" data-left-line="151" data-right-line="105"><a>151</a>         numTest = 1:1:numTargets;                                                .         numTest = 1:1:numTargets;                                                <span><a>105</a></span></span>
<span class="nodiff" data-left-line="152" data-right-line="106"><a>152</a>         errorPosPre = zeros(numTargets,1);                                       .         errorPosPre = zeros(numTargets,1);                                       <span><a>106</a></span></span>
<span class="nodiff" data-left-line="153" data-right-line="107"><a>153</a>         errorPosPost = errorPosPre;                                              .         errorPosPost = errorPosPre;                                              <span><a>107</a></span></span>
                                                                       <span class="diffskip">[5 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="159" data-right-line="113"><a>159</a>         pT = pNeedle;                                                            .         pT = pNeedle;                                                            <span><a>113</a></span></span>
<span class="nodiff" data-left-line="160" data-right-line="114"><a>160</a>         zEE = pNeedle;                                                           .         zEE = pNeedle;                                                           <span><a>114</a></span></span>
<span class="nodiff" data-left-line="161" data-right-line="115"><a>161</a>         zNeedle = pNeedle;                                                       .         zNeedle = pNeedle;                                                       <span><a>115</a></span></span>
<div id="diff16"><span class="diffLine" data-left-line="162" data-right-line="116"><a>162</a> <span class="diffnomatch">                                                                                 x         <span style="background: #be96c6;">qd = zeros(5,1561,numTargets);</span>                                          </span> <span><a>116</a></span></span>
<span class="diffLine" data-left-line="162" data-right-line="117"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         qm = zeros(1561,5,numTargets);                                          </span> <span><a>117</a></span></span>
</div><span class="nodiff" data-left-line="163" data-right-line="118"><a>163</a>         timeSeries = simOutputs(1,i).tout;                                       .         timeSeries = simOutputs(1,i).tout;                                       <span><a>118</a></span></span>
<span class="nodiff" data-left-line="164" data-right-line="119"><a>164</a>         for i=1:numTargets                                                       .         for i=1:numTargets                                                       <span><a>119</a></span></span>
<span class="nodiff" data-left-line="165" data-right-line="120"><a>165</a>             if isReachable(i)==1                                                 .             if isReachable(i)==1                                                 <span><a>120</a></span></span>
                                                                       <span class="diffskip">[2 unmodified lines hidden]</span>
<span class="nodiff" data-left-line="168" data-right-line="123"><a>168</a>                 errorPosPost(i) = data.get('ePos').Values.Data(end,:)*1000;      .                 errorPosPost(i) = data.get('ePos').Values.Data(end,:)*1000;      <span><a>123</a></span></span>
<span class="nodiff" data-left-line="169" data-right-line="124"><a>169</a>                 errorOrientPre(i) = data.get('eOrient').Values.Data(1000,:)*1000 .                 errorOrientPre(i) = data.get('eOrient').Values.Data(1000,:)*1000 <span><a>124</a></span></span>
<span class="nodiff" data-left-line="170" data-right-line="125"><a>170</a>                 errorOrientPost(i) = data.get('eOrient').Values.Data(end,:)*1000 .                 errorOrientPost(i) = data.get('eOrient').Values.Data(end,:)*1000 <span><a>125</a></span></span>
<div id="diff17"><span class="diffLine" data-left-line="170" data-right-line="126"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                 qd(:,:,i) = data.get('q_d').Values.Data(:,:);                   </span> <span><a>126</a></span></span>
<span class="diffLine" data-left-line="170" data-right-line="127"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                 qm(:,:,i) = data.get('q_m').Values.Data(:,:);                   </span> <span><a>127</a></span></span>
</div><span class="nodiff" data-left-line="171" data-right-line="128"><a>171</a>                 %------------------------------                                  .                 %------------------------------                                  <span><a>128</a></span></span>
<span class="nodiff" data-left-line="172" data-right-line="129"><a>172</a>                 timeSeries = data.get('pNeedle').Values.Time;                    .                 timeSeries = data.get('pNeedle').Values.Time;                    <span><a>129</a></span></span>
<span class="nodiff" data-left-line="173" data-right-line="130"><a>173</a>                 aux = find(timeSeries&gt;20.5);                                     .                 aux = find(timeSeries&gt;20.5);                                     <span><a>130</a></span></span>
<span class="nodiff" data-left-line="174" data-right-line="131"><a>174</a>                 %------------------------------                                  .                 %------------------------------                                  <span><a>131</a></span></span>
<div id="diff18"><span class="diffLine" data-left-line="175" data-right-line="131"><a>175</a> <span class="diffnew left">                pNeedle(i,:) = data.get('pNeedle').Values.Data(aux(1),:)*1000;   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="176" data-right-line="131"><a>176</a> <span class="diffnew left">                pT(i,:) = data.get('pT').Values.Data(end,:)*1000;                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="177" data-right-line="131"><a>177</a> <span class="diffnew left">                zEE(i,:) = data.get('zEE').Values.Data(:,:,end)';                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="178" data-right-line="131"><a>178</a> <span class="diffnew left">                zNeedle(i,:) = data.get('zNeedle').Values.Data(:,:,aux(1))';     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="179" data-right-line="132"><a>179</a>                 errorDeviceLength(i) = data.get('errorDevice').Values.Data(end); .                 errorDeviceLength(i) = data.get('errorDevice').Values.Data(end); <span><a>132</a></span></span>
<span class="nodiff" data-left-line="180" data-right-line="133"><a>180</a>                 isSuccessful(i) = data.get('biopsySuccess').Values.Data(end);    .                 isSuccessful(i) = data.get('biopsySuccess').Values.Data(end);    <span><a>133</a></span></span>
<span class="nodiff" data-left-line="181" data-right-line="134"><a>181</a>             end                                                                  .             end                                                                  <span><a>134</a></span></span>
<span class="nodiff" data-left-line="182" data-right-line="135"><a>182</a>         end                                                                      .         end                                                                      <span><a>135</a></span></span>
<span class="nodiff" data-left-line="183" data-right-line="136"><a>183</a>                                                                                  .                                                                                  <span><a>136</a></span></span>
<div id="diff19"><span class="diffLine" data-left-line="184" data-right-line="136"><a>184</a> <span class="diffnew left">        for i=1:numTargets                                                       &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="185" data-right-line="136"><a>185</a> <span class="diffnew left">            aux1 = string(round(pT(i,:),2));                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="186" data-right-line="136"><a>186</a> <span class="diffnew left">            pT_s(i) = "["+aux1(1)+","+aux1(2)+","+aux1(3)+"]";                   &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="187" data-right-line="136"><a>187</a> <span class="diffnew left">            aux2 = string(round(zEE(i,:)));                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="188" data-right-line="136"><a>188</a> <span class="diffnew left">            zEE_s(i) = "["+aux2(1)+","+aux2(2)+","+aux2(3)+"]";                  &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="189" data-right-line="136"><a>189</a> <span class="diffnew left">            aux3 = string(round(zNeedle(i,:),2));                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="190" data-right-line="136"><a>190</a> <span class="diffnew left">            zNeedle_s(i) = "["+aux3(1)+","+aux3(2)+","+aux3(3)+"]";              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="191" data-right-line="136"><a>191</a> <span class="diffnew left">            aux4 = string(round(pNeedle(i,:),2));                                &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="192" data-right-line="136"><a>192</a> <span class="diffnew left">            pNeedle_s(i) = "["+aux4(1)+","+aux4(2)+","+aux4(3)+"]";              &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="193" data-right-line="136"><a>193</a> <span class="diffnew left">        end                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="194" data-right-line="136"><a>194</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="195" data-right-line="136"><a>195</a> <span class="diffnew left">        t3 = table(numTest',pT_s',hs_s',round(errorPosPre,2),pNeedle_s',ps_s',ro &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="196" data-right-line="136"><a>196</a> <span class="diffnew left">        %disp(t3);                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="197" data-right-line="136"><a>197</a> <span class="diffnew left">        t4 = table(numTest',zEE_s',ns_s',round(errorOrientPre,2),zNeedle_s',ns_s &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="198" data-right-line="136"><a>198</a> <span class="diffnew left">        %disp(t4);                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="199" data-right-line="136"><a>199</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="200" data-right-line="136"><a>200</a> <span class="diffnew left">        t5 = table(numTest',round(pT,2),round(hs,2)',round(errorPosPre,2),round( &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="201" data-right-line="136"><a>201</a> <span class="diffnew left">        %disp(t5);                                                               &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="202" data-right-line="136"><a>202</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="203" data-right-line="136"><a>203</a> <span class="diffnew left">        % Fixing biopsy device length                                            &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="204" data-right-line="136"><a>204</a> <span class="diffnew left">        %dd = mean(errorDeviceLength(errorDeviceLength~=0));                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="205" data-right-line="136"><a>205</a> <span class="diffnew left">        %dmin = min(errorDeviceLength(errorDeviceLength~=0));%min or max depends &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="206" data-right-line="136"><a>206</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
</div><span class="nodiff" data-left-line="207" data-right-line="137"><a>207</a>         %% Saving to excel                                                       .         %% Saving to excel                                                       <span><a>137</a></span></span>
<div id="diff20"><span class="diffLine" data-left-line="207" data-right-line="138"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;         for i=1:numTargets                                                      </span> <span><a>138</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="139"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q1d = qd(1,:,i)';                                                   </span> <span><a>139</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="140"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q2d = qd(2,:,i)';                                                   </span> <span><a>140</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="141"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q3d = qd(3,:,i)';                                                   </span> <span><a>141</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="142"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q4d = qd(4,:,i)';                                                   </span> <span><a>142</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="143"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q5d = qd(5,:,i)';                                                   </span> <span><a>143</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="144"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q1 = qm(:,1,i);                                                     </span> <span><a>144</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="145"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q2 = qm(:,2,i);                                                     </span> <span><a>145</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="146"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q3 = qm(:,3,i);                                                     </span> <span><a>146</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="147"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q4 = qm(:,4,i);                                                     </span> <span><a>147</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="148"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             q5 = qm(:,5,i);                                                     </span> <span><a>148</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="149"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             t1 = table(ps_n',hs_n',ns_n',isSuccessful,'VariableNames',{'ps (mm)'</span> <span><a>149</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="150"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             t2 = table(q1d,q1,q2d,q2,q3d,q3,q4d,q4,q5d,q5,'VariableNames',{'q1d'</span> <span><a>150</a></span></span>
<span class="diffLine" data-left-line="207" data-right-line="151"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             if i==1                                                             </span> <span><a>151</a></span></span>
<span class="diffLine" data-left-line="208" data-right-line="152"><a>208</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>if needleType == 1                                                       x <span style="background: #be96c6;">                </span>if needleType == 1                                              </span> <span><a>152</a></span></span>
<span class="diffLine" data-left-line="209" data-right-line="153"><a>209</a> <span class="diffnomatch"><span style="background: #be96c6;">            </span>nameExcel = "<span style="background: #be96c6;">summaryTest</span>"+cupSize+"_FNA"+".xls";                     x <span style="background: #be96c6;">                    </span>nameExcel = "<span style="background: #be96c6;">plotTraj</span>"+cupSize+"_FNA"+".xls";               </span> <span><a>153</a></span></span>
<span class="diffLine" data-left-line="210" data-right-line="153"><a>210</a> <span class="diffnew left">        else                                                                     &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="211" data-right-line="153"><a>211</a> <span class="diffnew left">            nameExcel = "summaryTest"+cupSize+"_CN"+".xls";                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="212" data-right-line="153"><a>212</a> <span class="diffnew left">        end                                                                      &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="213" data-right-line="153"><a>213</a> <span class="diffnew left">                                                                                 &lt; </span><span class="diffold">                                                                                </span> <span class="diffsoft">  -</span></span>
<span class="diffLine" data-left-line="214" data-right-line="154"><a>214</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>writetable(t1,nameExcel,'Sheet',1,'WriteRowNames',true);                 x <span style="background: #be96c6;">                    </span>writetable(t1,nameExcel,'Sheet',1,'WriteRowNames',true);    </span> <span><a>154</a></span></span>
<span class="diffLine" data-left-line="215" data-right-line="155"><a>215</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>writetable(t2,nameExcel,'Sheet',2);                                      x <span style="background: #be96c6;">                    </span>writetable(t2,nameExcel,'Sheet',2);                         </span> <span><a>155</a></span></span>
<span class="diffLine" data-left-line="216" data-right-line="156"><a>216</a> <span class="diffnomatch"><span style="background: #be96c6;">        writetable(t3,nameExcel,'Sheet',3);</span>                                      x <span style="background: #be96c6;">                elseif needleType == 2</span>                                          </span> <span><a>156</a></span></span>
<span class="diffLine" data-left-line="217" data-right-line="157"><a>217</a> <span class="diffnomatch"><span style="background: #be96c6;">        writetable(t4,</span>nameExcel<span style="background: #be96c6;">,'Sheet',4)</span>;                                      x <span style="background: #be96c6;">                    </span>nameExcel<span style="background: #be96c6;"> = "plotTraj"+cupSize+"_CN"+".xls"</span>;                </span> <span><a>157</a></span></span>
<span class="diffLine" data-left-line="218" data-right-line="158"><a>218</a> <span class="diffnomatch"><span style="background: #be96c6;">        </span>writetable(<span style="background: #be96c6;">t5</span>,nameExcel,'Sheet',<span style="background: #be96c6;">5</span>);                                      x <span style="background: #be96c6;">                    </span>writetable(<span style="background: #be96c6;">t1</span>,nameExcel,'Sheet',<span style="background: #be96c6;">1,'WriteRowNames',true</span>);    </span> <span><a>158</a></span></span>
<span class="diffLine" data-left-line="218" data-right-line="159"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                     writetable(t2,nameExcel,'Sheet',2);                         </span> <span><a>159</a></span></span>
<span class="diffLine" data-left-line="219" data-right-line="160"><a>219</a> <span class="diffnomatch"><span style="background: #be96c6;">    </span>end                                                                          x <span style="background: #be96c6;">                </span>end                                                             </span> <span><a>160</a></span></span>
<span class="diffLine" data-left-line="219" data-right-line="161"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;             else                                                                </span> <span><a>161</a></span></span>
<span class="diffLine" data-left-line="219" data-right-line="162"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt;                 writetable(t2,nameExcel,'Sheet',i+1);%3,4,..                    </span> <span><a>162</a></span></span>
<span class="diffLine" data-left-line="220" data-right-line="163"><a>220</a> <span class="diffnomatch">end                                                                              x <span style="background: #be96c6;">            </span>end                                                                 </span> <span><a>163</a></span></span>
<span class="diffLine" data-left-line="221" data-right-line="164"><a>221</a> <span class="diffnomatch">                                                                                 x <span style="background: #be96c6;">        end</span>                                                                     </span> <span><a>164</a></span></span>
<span class="diffLine" data-left-line="222" data-right-line="165"><a>222</a> <span class="diffnomatch"><span style="background: #be96c6;">%% Plotting output data</span>                                                          x <span style="background: #be96c6;">    end</span>                                                                         </span> <span><a>165</a></span></span>
<span class="diffLine" data-left-line="222" data-right-line="166"><span class="diffsoft">  -</span><span class="diffold">                                                                                 </span><span class="diffnew right"> &gt; end                                                                             </span> <span><a>166</a></span></span>
</div><span class="nodiff" data-left-line="223" data-right-line="167"><a>223</a> %Using simulation data manager                                                   . %Using simulation data manager                                                   <span><a>167</a></span></span>
<span class="nodiff" data-left-line="224" data-right-line="168"><a>224</a> %Simulink.sdi.clear                                                              . %Simulink.sdi.clear                                                              <span><a>168</a></span></span>
<span class="nodiff" data-left-line="225" data-right-line="169"><a>225</a> %Simulink.sdi.openVariable('simOutputs', simOutputs)                             . %Simulink.sdi.openVariable('simOutputs', simOutputs)                             <span><a>169</a></span></span>
<span class="nodiff" data-left-line="226" data-right-line="170"><a>226</a>                                                                                  .                                                                                  <span><a>170</a></span></span>
</pre></div></div><div id="bottom"><p>Number of matching lines: 107</p><p>Number of unmatched lines in left file: 119</p>
<p>Number of unmatched lines in right file: 63</p>
</div></body></head>